\section{Controls}

\begin{frame}{Reviewing State Space}
    Discrete Time State Space Model:
    \[
        \vec x[t+1] = A \vec x[t] + B \vec u[t]
    \]
    Where \(\vec x[\cdot]\) as the state vector, \(u[\cdot]\) as the input vector.
\end{frame}


\begin{frame}{Controllability}
    Goal: Modify \(x[n]\) to be in any state we desire.
    \[
        \vec x[t+1] = A \vec x[t] + B \vec u[t]
    \]

    Expand out \(x[t]\) in terms of the initial state and all inputs,
    \[
        \vec x[t] = B u[t - 1]
                + A B u[t - 2]
                + A^2 B u[t - 3] + \cdots
                + A^{t - 1} B u[0]
                + A^t \vec x[0]
    \]
    \[
        \vec x[t] - A^t \vec x[0] =
        \underbrace{\begin{bmatrix}
            B & AB & A^2 B & \cdots & A^{t - 1} B
        \end{bmatrix}}_{\color{blue}\triangleq \mathscr{C}}
        \begin{bmatrix}
            u[t - 1] \\
            u[t - 2] \\
            \vdots \\
            u[0] \\
        \end{bmatrix}
    \]

    \pause
    Given the initial condition, \(x[0]\) the output of the system can be  expressed in terms of the solely our inputs!
\end{frame}

\begin{frame}{What states can we change \(x[n]\) to?}
    \[
        \vec x[t] - A^t \vec x[0] =
        \underbrace{\begin{bmatrix}
            B & AB & A^2 B & \cdots & A^{t - 1} B
        \end{bmatrix}}_{\color{blue}\triangleq \mathscr{C}}
        \begin{bmatrix}
            u[t - 1] \\
            u[t - 2] \\
            \vdots \\
            u[0] \\
        \end{bmatrix}
    \]
    \providecommand{\Col}{\operatorname{Col}}
    \providecommand{\rank}{\operatorname{rank}}
    The \(\Col(\mathscr{C})\) determines the subspace \(\vec u(t)\) can map to.

    In order to control the state to any vector in \(\mathbb R^n\), \(\Col(\mathscr{C}) = R^n\), or it must be full rank.

    i.e. The system is Controllable if and only if
    \[
        \rank{\mathscr{C}} = \rank\begin{bmatrix}
            B & AB & A^2 B & \cdots & A^{n - 1} B
        \end{bmatrix} = n
    \]

\end{frame}
