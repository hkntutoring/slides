\section{Kirchhoff's Laws}

\begin{frame}{Kirchhoff's Current Law}
    \begin{align*}
        \sum I_{node} = 0
    \end{align*}
    \begin{itemize}
        \item Comes from \textit{conservation of charge}.
        \item Equivalent restatement: the \textbf{sum of current entering a node = sum of current leaving a node}
        \item Use KCL to \textit{write an equation for each node} when solving circuits
    \end{itemize}
\end{frame}

\begin{frame}{Kirchhoff's Voltage Law}
    \begin{align*}
        \sum V_{loop} = 0
    \end{align*}
    \begin{itemize}
        \item \textbf{Net potential around any loop in a circuit is zero}
        \item \textit{Careful!}
        \begin{itemize}
            \item First, \textbf{define the + and - ends of each circuit element} in the circuit (use \textit{passive sign convention})
            \item As you traverse the loop and pass by circuit elements, \textbf{ADD} the voltage if the loop goes from \textbf{the - to the + end}; \textbf{SUBTRACT} the voltage otherwise!
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{Practice: KVL}
    Try writing the KVL equation for this loop:
    \begin{center}
        \begin{circuitikz}
            \draw  (0, 2) to[R, -*] (2, 2)
            (2, 2) to[R, v^=$V_B$, -*] (4, 2)
            (4, 2) to[R] (6, 2)
            (2, 2) to[R, v=$V_A$] (2, 0)
            (4, 2) to[R, v^=$V_C$] (4, 0)
            (0, 0) to[short] (6, 0);
            \draw[thick, ->] (2.35,1) arc (180:-120:0.65cm);
        \end{circuitikz}
    \end{center}
\end{frame}

\begin{frame}{Practice: KVL [Solution]}
    \begin{center}
        \begin{circuitikz}
            \draw  (0, 2) to[R, -*] (2, 2)
            (2, 2) to[R, v^=$V_B$, -*] (4, 2)
            (4, 2) to[R] (6, 2)
            (2, 2) to[R, v=$V_A$] (2, 0)
            (4, 2) to[R, v^=$V_C$] (4, 0)
            (0, 0) to[short] (6, 0);
            \draw[thick, ->] (2.35,1) arc (180:-120:0.65cm);
        \end{circuitikz}
    \end{center}
    \color{blue}
    Remember to \textbf{add} voltages that go from \textbf{- to +} and \textbf{subtract} otherwise! So, the KVL equation for the center loop is:
    \begin{align*}
        \sum V = V_a = V_b + V_c
    \end{align*}
\end{frame}

\begin{frame}{Passive Sign Convention}
    \begin{itemize}
        \item Used to define \textbf{sign of power} in a circuit
        \item Electrical component \textit{consumes power} $\to$ \textit{positive power}
        \begin{itemize}
            \item Current runs from \textit{+ to - end} of component
        \end{itemize}
        \item Electrical component \textit{produces power} $\to$ \textit{negative power}
        \begin{itemize}
            \item Current runs from \textit{- to + end} of component
        \end{itemize}
        \item Voltage drop across element with reference to current direction is \textbf{voltage at the base of the arrow minus the voltage at the tip of the arrow}.
    \end{itemize}
    \begin{tabular}{m{0.3\textwidth} m{0.6\textwidth}}
        \begin{circuitikz}[scale=0.65, transform shape]
            \draw (0, 2.5) to[R, v=$v_1$, o-o] (0, 0) node[label={below:$p=iv$}] {}
            (3, 2.5) to[R, v=$v_2$, o-o] (3, 0) node[label={below:$p=-iv$}] {};
            \draw[-latex] (0.5,2) node[label={above: $i_1$}] {} -- (0.5,0.5);
            \draw[-latex] (3.5,0.5) -- (3.5,2);
            \node[label={right: $i_2$}] at (3.5, 1.25) {};
            \node[label={right: $i_1$}] at (0.5, 1.25) {};
        \end{circuitikz} &
        \textit{In the figure, what are $V_1$ and $V_2$ in terms of $V_+$ and $V_-$ if you use the passive sign convention?}
    \end{tabular}
\end{frame}

\begin{frame}{Passive Sign Convention [Solution]}
    \begin{itemize}
        \item Used to define \textbf{sign of power} in a circuit
        \item Electrical component \textit{consumes power} $\to$ \textit{positive power}
        \begin{itemize}
            \item Current runs from \textit{+ to - end} of component
        \end{itemize}
        \item Electrical component \textit{produces power} $\to$ \textit{negative power}
        \begin{itemize}
            \item Current runs from \textit{- to + end} of component
        \end{itemize}
        \item Voltage drop across element with reference to current direction is \textbf{voltage at the base of the arrow minus the voltage at the tip of the arrow}.
    \end{itemize}
    \begin{tabular}{m{0.3\textwidth} m{0.6\textwidth}}
        \begin{circuitikz}[scale=0.65, transform shape]
            \draw (0, 2.5) to[R, v=$v_1$, o-o] (0, 0) node[label={below:$p=iv$}] {}
            (3, 2.5) to[R, v=$v_2$, o-o] (3, 0) node[label={below:$p=-iv$}] {};
            \draw[-latex] (0.5,2) node[label={above: $i_1$}] {} -- (0.5,0.5);
            \draw[-latex] (3.5,0.5) -- (3.5,2);
            \node[label={right: $i_2$}] at (3.5, 1.25) {};
            \node[label={right: $i_1$}] at (0.5, 1.25) {};
        \end{circuitikz} &
        \textcolor{blue}{$V_1 = V_+ - V_-$ and $V_2 = V_- - V_+$}
    \end{tabular}
\end{frame}

\begin{frame}{Practice: Solving for a Node Voltage}
    Solve for $V_3$ in terms of $R_1$, $R_2$, $R_3$, $V_1$, and $V_2$. \\
    \textit{(Hint: Use KCL to relate each current coming out of node $V_3$ and Ohmâ€™s Law to express these currents in terms of voltages).}
    \begin{center}
        \begin{circuitikz}[scale=0.75, transform shape]
            \draw (0, 3) to[V=$V_1$] (0, 0)
            (0, 3) to[R=$R_1$, -*] (3, 3) node[label={ above:$V_3$}] {}
            (3, 3) to[R=$R_3$] (6, 3)
            (6, 3) to[V=$V_2$] (6, 0)
            (3, 3) to[R=$R_2$] (3, 0)
            (0, 0) to[short] (6, 0);
        \end{circuitikz}
    \end{center}
\end{frame}

\begin{frame}{Practice: Solving for a Node Voltage [Solution]}
    \begin{center}
        \begin{circuitikz}[scale=0.6, transform shape]
            \draw (-0.5, 3) to[V=$V_1$] (-0.5, 0)
            (2.5, 3) to[R=$R_1$, i>_=$I_1$] (-0.5, 3)
            (2.5, 3) to[short, -*] (3, 3) node[label={ above:$V_3$}] {}
            (3, 3) to[short] (3.5, 3)
            (6.5, 3) to[R=$R_3$, i_<=$I_3$] (3.5, 3)
            (6.5, 3) to[V=$V_2$] (6.5, 0)
            (3, 3) to[R=$R_2$, i>_=$I_2$] (3, 0) node[ground] {}
            (-0.5, 0) to[short] (6.5, 0);
        \end{circuitikz}
    \end{center}
    \color{blue}
    By doing \textbf{KCL} at $V_3$, we get: $I_1 + I_2 + I_3 = 0$ \\[1ex]
    We can apply \textbf{Ohm's Law} to all three currents to get:
    \begin{align*}
        I_1 = \frac{V_3 - V_1}{R_1}, \, I_2 = \frac{V_3}{R_2}, \, I_3 = \frac{V_3 - V_2}{R_3}
    \end{align*}
\end{frame}

\begin{frame}{Practice: Solving for a Node Voltage [Solution]}
    \begin{center}
        \begin{circuitikz}[scale=0.6, transform shape]
            \draw (-0.5, 3) to[V=$V_1$] (-0.5, 0)
            (2.5, 3) to[R=$R_1$, i>_=$I_1$] (-0.5, 3)
            (2.5, 3) to[short, -*] (3, 3) node[label={ above:$V_3$}] {}
            (3, 3) to[short] (3.5, 3)
            (6.5, 3) to[R=$R_3$, i_<=$I_3$] (3.5, 3)
            (6.5, 3) to[V=$V_2$] (6.5, 0)
            (3, 3) to[R=$R_2$, i>_=$I_2$] (3, 0) node[ground] {}
            (-0.5, 0) to[short] (6.5, 0);
        \end{circuitikz}
    \end{center}
    \color{blue}
    Plugging into the \textbf{KCL equation}, we have:
    \begin{align*}
        \frac{V_3 - V_1}{R_1} + \frac{V_3}{R_2} + \frac{V_3 - V_2}{R_3} = 0 \\[1ex]
        V_3 (\frac{1}{R_1} + \frac{1}{R_2} + \frac{1}{R_3}) = \frac{V_1}{R_1} + \frac{V_2}{R_2} \\[1ex]
        V_3 = \frac{\frac{V_1}{R_1} + \frac{V_2}{R_2}}{\frac{1}{R_1} + \frac{1}{R_2} + \frac{1}{R_3}}
    \end{align*}
\end{frame}

\begin{frame}{Practice: KVL}
    Write \textbf{KVL equations} around the left loop and the right loop. \\
    (\textit{Remember to label the + and - terminals of all circuit elements!})
    
    \begin{center}
        \begin{circuitikz}[scale=0.75, transform shape]
            \draw (-0.5, 3) to[V=$V_1$] (-0.5, 0)
            (2.5, 3) to[R=$R_1$, i>_=$I_1$] (-0.5, 3)
            (2.5, 3) to[short, -*] (3, 3) node[label={ above:$V_3$}] {}
            (3, 3) to[short] (3.5, 3)
            (6.5, 3) to[R=$R_3$, i_<=$I_3$] (3.5, 3)
            (6.5, 3) to[V=$V_2$] (6.5, 0)
            (3, 3) to[R=$R_2$, i>_=$I_2$] (3, 0)
            (-0.5, 0) to[short] (6.5, 0);
            \draw[thick, ->] (4.85,2.2) arc (90:380:0.9cm);
            \draw[thick, ->] (1.65,2.2) arc (90:-210:0.9cm);
        \end{circuitikz}
    \end{center}
\end{frame}

\begin{frame}{Practice: KVL [Solution]}
    \begin{center}
        \begin{circuitikz}[scale=0.75, transform shape]
            \draw (-0.5, 3) to[V=$V_1$] (-0.5, 0)
            (2.5, 3) to[R=$R_1$, i>_=$I_1$] (-0.5, 3)
            (2.5, 3) to[short, -*] (3, 3) node[label={ above:$V_3$}] {}
            (3, 3) to[short] (3.5, 3)
            (6.5, 3) to[R=$R_3$, i_<=$I_3$] (3.5, 3)
            (6.5, 3) to[V=$V_2$] (6.5, 0)
            (3, 3) to[R=$R_2$, i>_=$I_2$] (3, 0)
            (-0.5, 0) to[short] (6.5, 0);
            \draw[thick, ->] (4.85,2.2) arc (90:380:0.9cm);
            \draw[thick, ->] (1.65,2.2) arc (90:-210:0.9cm);
        \end{circuitikz}
    \end{center}
    \color{blue}
    Left Loop: $\sum V = V_1 + I_1 R_1 - I_2 R_2$ \\[1ex]
    Right Loop: $\sum V = V_2 + I_3 R_3 - I_2 R_2$
\end{frame}

\begin{frame}{Practice: Find $i_3$}
    Find $i_3$ in the following circuit:
    \begin{center}
        \begin{circuitikz}
            \draw (0, 4) to[V=$V$] (0, 0)
            (0, 4) to[short, -*] (4, 4) node[label={[font=\footnotesize]above:$N_1$}] {}
            (4, 4) to[R=$R_2$, -*] (4, 2) node[label={[font=\footnotesize] left:$N_2$}] {}
            (4, 2) to[R=$R_3$] (4, 0)
            (4, 2) to[short] (6, 2)
            (6, 2) to[short, i=$i_3$] (6, 0)
            (0, 0) to[short] (6, 0)
            (0, 0) to[R=$R_1$] (4, 4); 
        \end{circuitikz}
    \end{center}
\end{frame}

\begin{frame}{Practice: Find $i_3$ [Solution]}
    \begin{center}
        \begin{circuitikz}[scale=0.75, transform shape]
            \draw (0, 4) to[V=$V$] (0, 0) node[ground] {}
            (0, 4) to[short, -*] (4, 4) node[label={[font=\footnotesize]above:$N_1$}] {}
            (4, 4) to[R=$R_2$, -*] (4, 2) node[label={[font=\footnotesize] left:$N_2$}] {}
            (4, 2) to[R=$R_3$] (4, 0)
            (4, 2) to[short] (6, 2)
            (6, 2) to[short, i=$i_3$] (6, 0)
            (0, 0) to[short] (6, 0)
            (0, 0) to[R=$R_1$] (4, 4); 
        \end{circuitikz}
    \end{center}
    \color{blue}
    \begin{align*}
        i_3 = V/R_2
    \end{align*}
    Notice that $i_3$ is \textit{equivalent to the current through resistor $R_2$} because no current goes through $R_3$. And since the voltage at node $N_1$ is $V$ and the voltage at $N_2$ is 0, the current $i_3 = V/R_2$.
\end{frame}
